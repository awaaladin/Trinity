# ============================================================================
# TRINITY (Escrow Service) - Environment Configuration
# ============================================================================

# Application Settings
ENV=development  # development or production
API_KEY=your-trinity-api-key-change-this-in-production

# Database (PostgreSQL)
DATABASE_URL=postgresql://user:password@localhost:5432/trinity_db

# ============================================================================
# INTER-SERVICE COMMUNICATION
# ============================================================================

# Shared Security Keys (MUST match across all services)
SHARED_SERVICE_SECRET=your-shared-service-secret-key-min-32-chars-change-this
SHARED_JWT_SECRET=your-shared-jwt-secret-key-min-32-chars-change-this
WEBHOOK_SECRET=your-webhook-hmac-secret-key-min-32-chars-change-this

# Service URLs - Local Development
CREATE_API_URL=http://localhost:8000
GAX_API_URL=http://localhost:8001
GAXTRON_API_URL=http://localhost:8003

# Service URLs - Production
# CREATE_API_URL=https://elibrary.yoursite.com
# GAX_API_URL=https://gax.yoursite.com
# GAXTRON_API_URL=https://blockchain.yoursite.com

# ============================================================================
# ESCROW SETTINGS
# ============================================================================

# Auto-release settings
DEFAULT_AUTO_RELEASE_HOURS=72
MAX_ESCROW_HOLD_DAYS=30

# Dispute settings
DISPUTE_RESOLUTION_DAYS=14
ADMIN_EMAIL=admin@yoursite.com

# ============================================================================
# HMAC SIGNATURE SETTINGS
# ============================================================================

# Request verification
HMAC_SECRET=your-hmac-secret-for-request-signing-min-32-chars
REQUEST_MAX_AGE_SECONDS=300  # 5 minutes

# ============================================================================
# NOTIFICATION SETTINGS
# ============================================================================

# SendGrid or other email service
SENDGRID_API_KEY=your-sendgrid-api-key
NOTIFICATION_FROM_EMAIL=notifications@yoursite.com

# SMS notifications (optional)
SMS_API_KEY=your-sms-api-key
SMS_ENABLED=False

# ============================================================================
# WEBHOOK SETTINGS
# ============================================================================

# Webhook endpoints for other services
GAX_WEBHOOK_URL=http://localhost:8001/api/webhooks/escrow/
CREATE_WEBHOOK_URL=http://localhost:8000/api/webhooks/escrow/

# Production webhooks
# GAX_WEBHOOK_URL=https://gax.yoursite.com/api/webhooks/escrow/
# CREATE_WEBHOOK_URL=https://elibrary.yoursite.com/api/webhooks/escrow/

# Webhook retry settings
WEBHOOK_MAX_RETRIES=3
WEBHOOK_RETRY_DELAY_SECONDS=5

# ============================================================================
# RATE LIMITING
# ============================================================================

RATE_LIMIT_MAX_REQUESTS=60
RATE_LIMIT_WINDOW_SECONDS=60

# ============================================================================
# LOGGING
# ============================================================================

LOG_LEVEL=INFO
LOG_FILE=trinity.log
